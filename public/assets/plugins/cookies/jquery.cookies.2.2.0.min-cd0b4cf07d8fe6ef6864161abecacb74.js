/**
 * Copyright (c) 2005 - 2010, James Auldridge
 * All rights reserved.
 *
 * Licensed under the BSD, MIT, and GPL (your choice!) Licenses:
 *  http://code.google.com/p/cookies/wiki/License
 *
 */
var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{},jaaulde.utils.cookies=function(){var e,t,n,i,o={expiresAt:null,path:"/",domain:null,secure:!1};return e=function(e){var t,n;return"object"!=typeof e||null===e?t=o:(t={expiresAt:o.expiresAt,path:o.path,domain:o.domain,secure:o.secure},"object"==typeof e.expiresAt&&e.expiresAt instanceof Date?t.expiresAt=e.expiresAt:"number"==typeof e.hoursToLive&&0!==e.hoursToLive&&(n=new Date,n.setTime(n.getTime()+1e3*60*60*e.hoursToLive),t.expiresAt=n),"string"==typeof e.path&&""!==e.path&&(t.path=e.path),"string"==typeof e.domain&&""!==e.domain&&(t.domain=e.domain),e.secure===!0&&(t.secure=e.secure)),t},t=function(t){return t=e(t),("object"==typeof t.expiresAt&&t.expiresAt instanceof Date?"; expires="+t.expiresAt.toGMTString():"")+"; path="+t.path+("string"==typeof t.domain?"; domain="+t.domain:"")+(t.secure===!0?"; secure":"")},n=function(){var e,t,n,i,o,a={},s=document.cookie.split(";");for(e=0;s.length>e;e+=1){t=s[e].split("="),n=t[0].replace(/^\s*/,"").replace(/\s*$/,"");try{i=decodeURIComponent(t[1])}catch(r){i=t[1]}if("object"==typeof JSON&&null!==JSON&&"function"==typeof JSON.parse)try{o=i,i=JSON.parse(i)}catch(l){i=o}a[n]=i}return a},i=function(){},i.prototype.get=function(e){var t,i,o=n();if("string"==typeof e)t="undefined"!=typeof o[e]?o[e]:null;else if("object"==typeof e&&null!==e){t={};for(i in e)t[e[i]]="undefined"!=typeof o[e[i]]?o[e[i]]:null}else t=o;return t},i.prototype.filter=function(e){var t,i={},o=n();"string"==typeof e&&(e=new RegExp(e));for(t in o)t.match(e)&&(i[t]=o[t]);return i},i.prototype.set=function(e,n,i){if(("object"!=typeof i||null===i)&&(i={}),"undefined"==typeof n||null===n)n="",i.hoursToLive=-8760;else if("string"!=typeof n){if("object"!=typeof JSON||null===JSON||"function"!=typeof JSON.stringify)throw new Error("cookies.set() received non-string value and could not serialize.");n=JSON.stringify(n)}var o=t(i);document.cookie=e+"="+encodeURIComponent(n)+o},i.prototype.del=function(e,t){var n,i={};("object"!=typeof t||null===t)&&(t={}),"boolean"==typeof e&&e===!0?i=this.get():"string"==typeof e&&(i[e]=!0);for(n in i)"string"==typeof n&&""!==n&&this.set(n,null,t)},i.prototype.test=function(){var e=!1,t="cT",n="data";return this.set(t,n),this.get(t)===n&&(this.del(t),e=!0),e},i.prototype.setOptions=function(t){"object"!=typeof t&&(t=null),o=e(t)},new i}(),function(){window.jQuery&&function(e){e.cookies=jaaulde.utils.cookies;var t={cookify:function(t){return this.each(function(){var n,i,o,a=["name","id"],s=e(this);for(n in a)if(!isNaN(n)&&(i=s.attr(a[n]),"string"==typeof i&&""!==i)){s.is(":checkbox, :radio")?s.attr("checked")&&(o=s.val()):o=s.is(":input")?s.val():s.html(),("string"!=typeof o||""===o)&&(o=null),e.cookies.set(i,o,t);break}})},cookieFill:function(){return this.each(function(){var t,n,i,o,a=["name","id"],s=e(this);for(n=function(){return t=a.pop(),!!t};n();)if(i=s.attr(t),"string"==typeof i&&""!==i){o=e.cookies.get(i),null!==o&&(s.is(":checkbox, :radio")?s.val()===o?s.attr("checked","checked"):s.removeAttr("checked"):s.is(":input")?s.val(o):s.html(o));break}})},cookieBind:function(t){return this.each(function(){var n=e(this);n.cookieFill().change(function(){n.cookify(t)})})}};e.each(t,function(t){e.fn[t]=this})}(window.jQuery)}();
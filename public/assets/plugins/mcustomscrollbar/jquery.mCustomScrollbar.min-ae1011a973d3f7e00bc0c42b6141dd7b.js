(function(e){var t={init:function(t){function i(){return"ontouchstart"in window?1:0}var n={set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:550,scrollEasing:"easeOutCirc",mouseWheel:"auto",autoDraggerLength:!0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:20,scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1},callbacks:{onScroll:function(){},onTotalScroll:function(){},onTotalScrollOffset:0}},t=e.extend(!0,n,t);return e(document).data("mCS-is-touch-device",!1),i()&&e(document).data("mCS-is-touch-device",!0),this.each(function(){function n(e){var t=(document.getElementById(e),0),i=0;document.getElementById(e).addEventListener("touchstart",function(e){t=this.scrollTop+e.touches[0].pageY,i=this.scrollLeft+e.touches[0].pageX},!1),document.getElementById(e).addEventListener("touchmove",function(e){(this.scrollTop<this.scrollHeight-this.offsetHeight&&t-5>this.scrollTop+e.touches[0].pageY||0!=this.scrollTop&&this.scrollTop+e.touches[0].pageY>t+5)&&e.preventDefault(),(this.scrollLeft<this.scrollWidth-this.offsetWidth&&i-5>this.scrollLeft+e.touches[0].pageX||0!=this.scrollLeft&&this.scrollLeft+e.touches[0].pageX>i+5)&&e.preventDefault(),this.scrollTop=t-e.touches[0].pageY,this.scrollLeft=i-e.touches[0].pageX},!1)}var o=e(this);if(t.set_width&&o.css("width",t.set_width),t.set_height&&o.css("height",t.set_height),e(document).data("mCustomScrollbar-index")){var s=parseInt(e(document).data("mCustomScrollbar-index"));e(document).data("mCustomScrollbar-index",s+1)}else e(document).data("mCustomScrollbar-index","1");o.wrapInner("<div class='mCustomScrollBox' id='mCSB_"+e(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+e(document).data("mCustomScrollbar-index"));var a=o.children(".mCustomScrollBox");if(t.horizontalScroll){a.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var r=a.children(".mCSB_h_wrapper");r.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:r.children().outerWidth(),position:"relative"}).unwrap()}else a.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");var l=a.children(".mCSB_container");if(e(document).data("mCS-is-touch-device")){var c=navigator.userAgent;if(-1!=c.indexOf("Android")){var u=parseFloat(c.slice(c.indexOf("Android")+8));3>u?n("mCSB_"+e(document).data("mCustomScrollbar-index")):a.css({overflow:"auto","-webkit-overflow-scrolling":"touch"})}else a.css({overflow:"auto","-webkit-overflow-scrolling":"touch"});l.addClass("mCS_no_scrollbar mCS_touch"),o.data({horizontalScroll:t.horizontalScroll,scrollInertia:t.scrollInertia,scrollEasing:t.scrollEasing,autoExpandHorizontalScroll:t.advanced.autoExpandHorizontalScroll,"onScroll-Callback":t.callbacks.onScroll,"onTotalScroll-Callback":t.callbacks.onTotalScroll,"onTotalScroll-Offset":t.callbacks.onTotalScrollOffset}),a.scroll(function(){o.mCustomScrollbar("callbacks",a,l)})}else{l.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer' style='position:relative;'><div class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var h=a.children(".mCSB_scrollTools"),d=h.children(".mCSB_draggerContainer"),p=d.children(".mCSB_dragger");if(t.horizontalScroll?p.data("minDraggerWidth",p.width()):p.data("minDraggerHeight",p.height()),t.scrollButtons.enable&&(t.horizontalScroll?h.prepend("<a class='mCSB_buttonLeft' style='display:block; position:relative;'></a>").append("<a class='mCSB_buttonRight' style='display:block; position:relative;'></a>"):h.prepend("<a class='mCSB_buttonUp' style='display:block; position:relative;'></a>").append("<a class='mCSB_buttonDown' style='display:block; position:relative;'></a>")),a.bind("scroll",function(){a.scrollTop(0).scrollLeft(0)}),o.data({horizontalScroll:t.horizontalScroll,scrollInertia:t.scrollInertia,scrollEasing:t.scrollEasing,mouseWheel:t.mouseWheel,autoDraggerLength:t.autoDraggerLength,"scrollButtons-enable":t.scrollButtons.enable,"scrollButtons-scrollType":t.scrollButtons.scrollType,"scrollButtons-scrollSpeed":t.scrollButtons.scrollSpeed,"scrollButtons-scrollAmount":t.scrollButtons.scrollAmount,autoExpandHorizontalScroll:t.advanced.autoExpandHorizontalScroll,"onScroll-Callback":t.callbacks.onScroll,"onTotalScroll-Callback":t.callbacks.onTotalScroll,"onTotalScroll-Offset":t.callbacks.onTotalScrollOffset}).mCustomScrollbar("update"),t.advanced.updateOnBrowserResize){var f;e(window).resize(function(){f&&clearTimeout(f),f=setTimeout(function(){o.mCustomScrollbar("update")},150)})}}if(t.advanced.updateOnContentResize){var g;if(t.horizontalScroll){var m=l.outerWidth();i()&&a.css({"-webkit-overflow-scrolling":"auto"})}else var m=l.outerHeight();g=setInterval(function(){if(t.horizontalScroll){t.advanced.autoExpandHorizontalScroll&&l.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:l.outerWidth(),position:"relative"}).unwrap();var e=l.outerWidth()}else var e=l.outerHeight();e!=m&&(o.mCustomScrollbar("update"),m=e)},300)}})},update:function(){var t=e(this),i=t.children(".mCustomScrollBox"),n=i.children(".mCSB_container");e(document).data("mCS-is-touch-device")||n.removeClass("mCS_no_scrollbar");var o=i.children(".mCSB_scrollTools"),s=o.children(".mCSB_draggerContainer"),a=s.children(".mCSB_dragger");if(t.data("horizontalScroll")){var r=o.children(".mCSB_buttonLeft"),l=o.children(".mCSB_buttonRight"),c=i.width();t.data("autoExpandHorizontalScroll")&&n.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:n.outerWidth(),position:"relative"}).unwrap();var u=n.outerWidth()}else var h=o.children(".mCSB_buttonUp"),d=o.children(".mCSB_buttonDown"),p=i.height(),f=n.outerHeight();if(f>p&&!t.data("horizontalScroll")&&!e(document).data("mCS-is-touch-device")){o.css("display","block");var g=s.height();if(t.data("autoDraggerLength")){var m=Math.round(p/f*g),v=a.data("minDraggerHeight");if(v>=m)a.css({height:v});else if(m>=g-10){var b=g-10;a.css({height:b})}else a.css({height:m});a.children(".mCSB_dragger_bar").css({"line-height":a.height()+"px"})}var y=a.height(),C=(f-p)/(g-y);t.data("scrollAmount",C),t.mCustomScrollbar("scrolling",i,n,s,a,h,d,r,l);var T=Math.abs(Math.round(n.position().top));t.mCustomScrollbar("scrollTo",T,{callback:!1})}else if(u>c&&t.data("horizontalScroll")&&!e(document).data("mCS-is-touch-device")){o.css("display","block");var _=s.width();if(t.data("autoDraggerLength")){var x=Math.round(c/u*_),E=a.data("minDraggerWidth");if(E>=x)a.css({width:E});else if(x>=_-10){var D=_-10;a.css({width:D})}else a.css({width:x})}var w=a.width(),C=(u-c)/(_-w);t.data("scrollAmount",C),t.mCustomScrollbar("scrolling",i,n,s,a,h,d,r,l);var T=Math.abs(Math.round(n.position().left));t.mCustomScrollbar("scrollTo",T,{callback:!1})}else i.unbind("mousewheel"),i.unbind("focusin"),t.data("horizontalScroll")?a.add(n).css("left",0):a.add(n).css("top",0),o.css("display","none"),n.addClass("mCS_no_scrollbar")},scrolling:function(t,i,n,o,s,a,r,l){var c=e(this);if(!o.hasClass("ui-draggable")){if(c.data("horizontalScroll"))var u="x";else var u="y";o.draggable({axis:u,containment:"parent",drag:function(){c.mCustomScrollbar("scroll"),o.addClass("mCSB_dragger_onDrag")},stop:function(){o.removeClass("mCSB_dragger_onDrag")}})}if(n.unbind("click").bind("click",function(e){if(c.data("horizontalScroll")){var t=e.pageX-n.offset().left;if(o.position().left>t||t>o.position().left+o.width()){var i=t;i>=n.width()-o.width()&&(i=n.width()-o.width()),o.css("left",i),c.mCustomScrollbar("scroll")}}else{var t=e.pageY-n.offset().top;if(o.position().top>t||t>o.position().top+o.height()){var i=t;i>=n.height()-o.height()&&(i=n.height()-o.height()),o.css("top",i),c.mCustomScrollbar("scroll")}}}),c.data("mouseWheel")){var h=c.data("mouseWheel");if("auto"===c.data("mouseWheel")){h=8;var d=navigator.userAgent;-1!=d.indexOf("Mac")&&-1!=d.indexOf("Safari")&&-1!=d.indexOf("AppleWebKit")&&-1==d.indexOf("Chrome")&&(h=1)}t.unbind("mousewheel").bind("mousewheel",function(e,t){e.preventDefault();var i=Math.abs(t*h);if(c.data("horizontalScroll")){var s=o.position().left-t*i;o.css("left",s),0>o.position().left&&o.css("left",0);var a=n.width(),r=o.width();o.position().left>a-r&&o.css("left",a-r)}else{var l=o.position().top-t*i;o.css("top",l),0>o.position().top&&o.css("top",0);var u=n.height(),d=o.height();o.position().top>u-d&&o.css("top",u-d)}c.mCustomScrollbar("scroll")})}if(c.data("scrollButtons-enable"))if("pixels"===c.data("scrollButtons-scrollType")){var p;e.browser.msie&&9>parseInt(e.browser.version)&&c.data("scrollInertia",0),c.data("horizontalScroll")?(l.add(r).unbind("click mousedown mouseup mouseout",v,y),l.bind("click",function(e){e.preventDefault(),i.is(":animated")||(p=Math.abs(i.position().left)+c.data("scrollButtons-scrollAmount"),c.mCustomScrollbar("scrollTo",p))}),r.bind("click",function(e){e.preventDefault(),i.is(":animated")||(p=Math.abs(i.position().left)-c.data("scrollButtons-scrollAmount"),i.position().left>=-c.data("scrollButtons-scrollAmount")&&(p="left"),c.mCustomScrollbar("scrollTo",p))})):(a.add(s).unbind("click mousedown mouseup mouseout",x,D),a.bind("click",function(e){e.preventDefault(),i.is(":animated")||(p=Math.abs(i.position().top)+c.data("scrollButtons-scrollAmount"),c.mCustomScrollbar("scrollTo",p))}),s.bind("click",function(e){e.preventDefault(),i.is(":animated")||(p=Math.abs(i.position().top)-c.data("scrollButtons-scrollAmount"),i.position().top>=-c.data("scrollButtons-scrollAmount")&&(p="top"),c.mCustomScrollbar("scrollTo",p))}))}else if(c.data("horizontalScroll")){l.add(r).unbind("click mousedown mouseup mouseout",v,y);var f,g=n.width(),m=o.width();l.bind("mousedown",function(e){e.preventDefault();var t=g-m;f=setInterval(function(){var e=Math.abs(o.position().left-t)*(100/c.data("scrollButtons-scrollSpeed"));o.stop().animate({left:t},e,"linear"),c.mCustomScrollbar("scroll")},20)});var v=function(e){e.preventDefault(),clearInterval(f),o.stop()};l.bind("mouseup mouseout",v);var b;r.bind("mousedown",function(e){e.preventDefault();var t=0;b=setInterval(function(){var e=Math.abs(o.position().left-t)*(100/c.data("scrollButtons-scrollSpeed"));o.stop().animate({left:t},e,"linear"),c.mCustomScrollbar("scroll")},20)});var y=function(e){e.preventDefault(),clearInterval(b),o.stop()};r.bind("mouseup mouseout",y)}else{a.add(s).unbind("click mousedown mouseup mouseout",x,D);var C,T=n.height(),_=o.height();a.bind("mousedown",function(e){e.preventDefault();var t=T-_;C=setInterval(function(){var e=Math.abs(o.position().top-t)*(100/c.data("scrollButtons-scrollSpeed"));o.stop().animate({top:t},e,"linear"),c.mCustomScrollbar("scroll")},20)});var x=function(e){e.preventDefault(),clearInterval(C),o.stop()};a.bind("mouseup mouseout",x);var E;s.bind("mousedown",function(e){e.preventDefault();var t=0;E=setInterval(function(){var e=Math.abs(o.position().top-t)*(100/c.data("scrollButtons-scrollSpeed"));o.stop().animate({top:t},e,"linear"),c.mCustomScrollbar("scroll")},20)});var D=function(e){e.preventDefault(),clearInterval(E),o.stop()};s.bind("mouseup mouseout",D)}t.unbind("focusin").bind("focusin",function(){t.scrollTop(0).scrollLeft(0);var s=e(document.activeElement);if(s.is("input,textarea,select,button,a[tabindex],area,object"))if(c.data("horizontalScroll")){var a=i.position().left,r=s.position().left,l=t.width(),u=s.outerWidth();if(a+r>=0&&l-u>=a+r);else{var h=r/c.data("scrollAmount");h>=n.width()-o.width()&&(h=n.width()-o.width()),o.css("left",h),c.mCustomScrollbar("scroll")}}else{var d=i.position().top,p=s.position().top,f=t.height(),g=s.outerHeight();if(d+p>=0&&f-g>=d+p);else{var h=p/c.data("scrollAmount");h>=n.height()-o.height()&&(h=n.height()-o.height()),o.css("top",h),c.mCustomScrollbar("scroll")}}})},scroll:function(t){var i=e(this),n=i.find(".mCSB_dragger"),o=i.find(".mCSB_container"),s=i.find(".mCustomScrollBox");if(i.data("horizontalScroll"))var a=n.position().left,r=-a*i.data("scrollAmount"),l=o.position().left,c=Math.round(l-r);else var u=n.position().top,h=-u*i.data("scrollAmount"),d=o.position().top,p=Math.round(d-h);if(e.browser.webkit)var f=(window.outerWidth-8)/window.innerWidth,g=.98>f||f>1.02;0===i.data("scrollInertia")||g?(i.data("horizontalScroll")?o.css("left",r):o.css("top",h),t||i.mCustomScrollbar("callbacks",s,o)):i.data("horizontalScroll")?o.stop().animate({left:"-="+c},i.data("scrollInertia"),i.data("scrollEasing"),function(){t||i.mCustomScrollbar("callbacks",s,o)}):o.stop().animate({top:"-="+p},i.data("scrollInertia"),i.data("scrollEasing"),function(){t||i.mCustomScrollbar("callbacks",s,o)})},scrollTo:function(t,i){var n,o={moveDragger:!1,callback:!0},i=e.extend(o,i),s=e(this),a=s.find(".mCustomScrollBox"),r=a.children(".mCSB_container");if(!e(document).data("mCS-is-touch-device"))var l=s.find(".mCSB_draggerContainer"),c=l.children(".mCSB_dragger");var u;if(t){if("number"==typeof t)i.moveDragger?n=t:(u=t,n=Math.round(u/s.data("scrollAmount")));else if("string"==typeof t){var h;h="top"===t?0:"bottom"!==t||s.data("horizontalScroll")?"left"===t?0:"right"===t&&s.data("horizontalScroll")?r.outerWidth()-a.width():"first"===t?s.find(".mCSB_container").find(":first"):"last"===t?s.find(".mCSB_container").find(":last"):s.find(t):r.outerHeight()-a.height(),1===h.length?(u=s.data("horizontalScroll")?h.position().left:h.position().top,n=e(document).data("mCS-is-touch-device")?u:Math.ceil(u/s.data("scrollAmount"))):n=h}e(document).data("mCS-is-touch-device")?s.data("horizontalScroll")?a.stop().animate({scrollLeft:n},s.data("scrollInertia"),s.data("scrollEasing"),function(){i.callback&&s.mCustomScrollbar("callbacks",a,r)}):a.stop().animate({scrollTop:n},s.data("scrollInertia"),s.data("scrollEasing"),function(){i.callback&&s.mCustomScrollbar("callbacks",a,r)}):(s.data("horizontalScroll")?(n>=l.width()-c.width()&&(n=l.width()-c.width()),c.css("left",n)):(n>=l.height()-c.height()&&(n=l.height()-c.height()),c.css("top",n)),i.callback?s.mCustomScrollbar("scroll"):s.mCustomScrollbar("scroll",!0))}},callbacks:function(t,i){var n=e(this);if(e(document).data("mCS-is-touch-device"))if(n.data("horizontalScroll")){var o=Math.round(t.scrollLeft());o>0&&o>=i.outerWidth()-n.width()-n.data("onTotalScroll-Offset")?n.data("onTotalScroll-Callback").call():n.data("onScroll-Callback").call()}else{var s=Math.round(t.scrollTop());s>0&&s>=i.outerHeight()-n.height()-n.data("onTotalScroll-Offset")?n.data("onTotalScroll-Callback").call():n.data("onScroll-Callback").call()}else if(n.data("horizontalScroll")){var a=Math.round(i.position().left);0>a&&t.width()-i.outerWidth()+n.data("onTotalScroll-Offset")>=a?n.data("onTotalScroll-Callback").call():n.data("onScroll-Callback").call()}else{var r=Math.round(i.position().top);0>r&&t.height()-i.outerHeight()+n.data("onTotalScroll-Offset")>=r?n.data("onTotalScroll-Callback").call():n.data("onScroll-Callback").call()}}};e.fn.mCustomScrollbar=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(e.error("Method "+i+" does not exist"),void 0):t.init.apply(this,arguments)}})(jQuery);